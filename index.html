<!DOCTYPE html>
<html lang="en">

<head>
    
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="HandheldFriendly" content="True" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="generator" content="Hugo 0.99.1" />



<title>Artem Garmash - Software developer, hardware enthusiast, mountain bike rider, musichead</title>


<meta name="author" content="Artem Garmash" />



<meta property="og:title" content="Artem Garmash" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://agarmash.com/" />


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Artem Garmash"/>
<meta name="twitter:description" content=""/>





<link rel="stylesheet" href="https://agarmash.com/assets/css/fuji.min.css" />





<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-179143853-1');
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-179143853-1"></script>


</head>

<body data-theme="auto">
    <script data-cfasync="false">
  
  var fujiThemeData = localStorage.getItem('fuji_data-theme');
  
  if (!fujiThemeData) {
    localStorage.setItem('fuji_data-theme', 'auto');
  } else {
    
    if (fujiThemeData !== 'auto') {
      document.body.setAttribute('data-theme', fujiThemeData === 'dark' ? 'dark' : 'light');
    }
  }
</script>

    <header>
    <div class="container-lg clearfix">
        <div class="col-12 header">
            <a class="title-main" href="https://agarmash.com">Artem Garmash</a>
            
            <span class="title-sub">Software developer, hardware enthusiast, mountain bike rider, musichead</span>
            
        </div>
    </div>
</header>

    <main>
        <div class="container-lg clearfix">
            
            <div class="col-12 col-md-9 float-left content">
                



<div class="post">
    <h2 class="post-item post-title">
        <a href="https://agarmash.com/posts/htb-behindthescenes-writeup/">Hack the Box &#34;Behind the Scenes&#34; Writeup, or How to Skip Illegal Instructions in Executables</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2022-06-13</span><span><i class="iconfont icon-time-sharp"></i>&nbsp;8 minutes</span><span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href="/tags/hackthebox">HackTheBox</a>&nbsp;<a href="/tags/ctf">CTF</a>&nbsp;<a href="/tags/writeup">Writeup</a>&nbsp;</span>

    </div>
    <div class="post-item post-summary markdown-body">
        <p>In this post, we&rsquo;re going to dissect a very simple challenge from Hack the Box, &ldquo;Behind the Scenes&rdquo;. We&rsquo;ll also look at how to work with Unix signals and how to skip illegal instructions in executables. Buckle up!</p>
        <a href="https://agarmash.com/posts/htb-behindthescenes-writeup/">Read More</a>
    </div>
</div>

<div class="post">
    <h2 class="post-item post-title">
        <a href="https://agarmash.com/posts/avfoundation-audio-trimming/">Trimming Audio Files and Adding Silence with AVFoundation in Swift</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2021-12-26</span><span><i class="iconfont icon-time-sharp"></i>&nbsp;9 minutes</span><span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href="/tags/swift">Swift</a>&nbsp;<a href="/tags/avfoundation">AVFoundation</a>&nbsp;</span>

    </div>
    <div class="post-item post-summary markdown-body">
        <blockquote>
<p>Originally posted in <a href="https://akvelon.com/how-to-trim-audio-files-and-add-silence-with-avfoundation-in-swift" target="_blank">Akvelon Blog</a></p>
</blockquote>
<p>While working on one of the apps, we faced the need to trim the recorded audio files. We were working with 32-bit float WAV files, and we had the following requirements:</p>
<ul>
<li>the output file should have the exact same format as the input file;</li>
<li>no processing should be applied to the audio data, audio samples should be copied as-is;</li>
<li>there should be an ability to add silence to the output file.</li>
</ul>
<p>My first guess was to use <code>AVAssetExportSession</code>, but it has limited options for exporting the audio, and itâ€™s not possible to be sure what it does with the audio under the hood. A no-go.</p>
<p>Secondly, I took a look at the requirements again. &ldquo;Audio samples should be copied as-is&rdquo;. That was exactly what we needed - to open the input file for reading, the output one for writing, calculate the range of audio samples to copy, and perform the actual copying. Fortunately, it was completely possible with <code>AVAudioFile</code> - it can be read into <code>AVAudioPCMBuffer</code> and written from one&rsquo;s contents.</p>
        <a href="https://agarmash.com/posts/avfoundation-audio-trimming/">Read More</a>
    </div>
</div>

<div class="post">
    <h2 class="post-item post-title">
        <a href="https://agarmash.com/posts/xbox-black-reverse-engineering/">Patching Xbox Game Black to Disable Savefile Signature Checking</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2021-12-09</span><span><i class="iconfont icon-time-sharp"></i>&nbsp;8 minutes</span><span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href="/tags/xbox">Xbox</a>&nbsp;<a href="/tags/reverse-engineering">Reverse Engineering</a>&nbsp;</span>

    </div>
    <div class="post-item post-summary markdown-body">
        <p><em>A story about reverse engineering and way too smart FTP client</em></p>
<p>Some time ago, I decided to swap HDD in my Original Xbox. It already has been upgraded with a 40 Gb IDE drive, but I had a spare 160 Gb SATA drive laying around and wanted to have some more storage in the system. I bought a SATA to IDE converter, swapped the drives, installed the system software, and transferred all the content back. To my utmost disappointment, savefiles for some games were corrupted. One of them was <strong>Black</strong>, where I had a decent amount of played hours. I did some basic troubleshooting but wasn&rsquo;t able to find the source of the problem. At that moment it was obvious to me that the problem lay in the new hard drive.</p>
        <a href="https://agarmash.com/posts/xbox-black-reverse-engineering/">Read More</a>
    </div>
</div>

<div class="post">
    <h2 class="post-item post-title">
        <a href="https://agarmash.com/posts/avaudioplayer-playback-progress/">Using UISlider or UIProgressView to Display and Control the Playback Progress of AVAudioPlayer</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2021-03-10</span><span><i class="iconfont icon-time-sharp"></i>&nbsp;4 minutes</span><span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href="/tags/swift">Swift</a>&nbsp;<a href="/tags/avaudioplayer">AVAudioPlayer</a>&nbsp;<a href="/tags/uislider">UISlider</a>&nbsp;<a href="/tags/uiprogressview">UIProgressView</a>&nbsp;</span>

    </div>
    <div class="post-item post-summary markdown-body">
        <p>While implementing audio playback with <code>AVAudioPlayer</code>, you may need to display the playback progress with <code>UIProgressView</code>, or even to synchronize the state of the player with <code>UISlider</code>. <code>AVAudioPlayer</code> doesn&rsquo;t have any functionality to get periodically notified about the current playback position. However, it has 2 aptly named properties that represent the time of the current playback position and the duration of the audio file: <code>currentTime</code> and <code>duration</code> respectively.</p>
        <a href="https://agarmash.com/posts/avaudioplayer-playback-progress/">Read More</a>
    </div>
</div>

<div class="post">
    <h2 class="post-item post-title">
        <a href="https://agarmash.com/posts/xbox-360-controller-receiver/">Building a Wireless Receiver for Xbox 360 Controllers From a Broken Xbox 360 Console</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2021-02-25</span><span><i class="iconfont icon-time-sharp"></i>&nbsp;6 minutes</span><span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href="/tags/xbox">Xbox</a>&nbsp;<a href="/tags/avr">AVR</a>&nbsp;</span>

    </div>
    <div class="post-item post-summary markdown-body">
        <p>I&rsquo;ve accomplished this little project back in 2016 when I had two Xbox 360 wireless controllers and a huge desire to use them with a PC. To do so, you have to have a wireless receiver, and there were 2 mainstream options on the market:</p>
<ul>
<li>a genuine one - the best option, but costs around $60;</li>
<li>an unofficial replica - can be found for $10-15, but reliability and driver support were quite questionable.</li>
</ul>
<p>At that moment, I was short of money to get the first one and didn&rsquo;t want to try luck with the second. Fortunately, if you dive a bit deeper into the topic and doesn&rsquo;t afraid to do some soldering, there&rsquo;s a third option - using an RF module from a broken Xbox 360 (later in the text I&rsquo;ll refer to it just as &ldquo;RF module&rdquo;).</p>
        <a href="https://agarmash.com/posts/xbox-360-controller-receiver/">Read More</a>
    </div>
</div>

<div class="post">
    <h2 class="post-item post-title">
        <a href="https://agarmash.com/posts/ipod-classic-ssd/">A Journey of Putting an SSD Into an iPod Classic With Rockbox</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2020-10-15</span><span><i class="iconfont icon-time-sharp"></i>&nbsp;6 minutes</span><span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href="/tags/ipod">iPod</a>&nbsp;<a href="/tags/ssd">SSD</a>&nbsp;<a href="/tags/rockbox">Rockbox</a>&nbsp;</span>

    </div>
    <div class="post-item post-summary markdown-body">
        <p>When the whole world was switching to streaming services, I bought an iPod Classic 5.5th generation. An independent device with locally stored music in lossless quality and decent audio codec was, and still is quite appealing for me. And as for me, its design is everlasting, a 14 y/o device still feels great and gets a lot of attention.</p>
<p>The only drawback was storage capacity - mine one had a 30 GB HDD, and although it was possible to find a unit with 80 gigs, it also wouldn&rsquo;t be sufficient. Another option was to get a 6/7 generation one with 160 GB HDD, but I wanted to stay with the 5.5th gen unit.</p>
        <a href="https://agarmash.com/posts/ipod-classic-ssd/">Read More</a>
    </div>
</div>

<div class="post">
    <h2 class="post-item post-title">
        <a href="https://agarmash.com/posts/c-library-in-swift/">How to Integrate a C Library into an iOS App Written in Swift</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2020-09-30</span><span><i class="iconfont icon-time-sharp"></i>&nbsp;5 minutes</span><span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href="/tags/c">C</a>&nbsp;<a href="/tags/swift">Swift</a>&nbsp;</span>

    </div>
    <div class="post-item post-summary markdown-body">
        <blockquote>
<p>Initially, I wrote this article for <a href="https://medium.com/@distillerytech/how-to-integrate-a-c-library-into-an-ios-app-written-in-swift-ef92c0e0d42b" target="_blank">Distillery Tech Blog</a> back in 2018. I decided to copy it here for the further preservation.</p>
</blockquote>
<p>Nowadays, everyone values privacy and security. Thatâ€™s why it wasnâ€™t surprising when, recently, we needed to use an encryption library on one of the projects.</p>
<p>For the project in question, the decision was made to use libsignal. Originally developed for <a href="https://apps.apple.com/us/app/signal-private-messenger/id874139669" target="_blank">Signal Private Messenger</a>, libsignal has a good reputation among security specialists.</p>
<h2 id="using-libsignal">Using libsignal</h2>
<p>At the end of July 2018, there were implementations of libsignal in C, Java, and JavaScript. There was also an implementation in Objective-C called SignalProtocolKit, but at that time it had already been deprecated.</p>
<p>Our goal was to use the library in an iOS app written in Swift. To keep everything up to date, we had to use the one written in C, for which <a href="https://github.com/signalapp/libsignal-protocol-c" target="_blank">the source code is stored here</a>. Lucky for us, Swift can interact with C code very smoothly, at minimum because some of Appleâ€™s low-level libraries are written in C. The tricky part was to add the library to the project correctly.</p>
        <a href="https://agarmash.com/posts/c-library-in-swift/">Read More</a>
    </div>
</div>










            </div>
            <aside class="col-12 col-md-3 float-left sidebar">
    
    <div class="sidebar-item sidebar-pages">
        <h3>Pages</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/about/">About me</a>
            </li>
            
            <li>
                <a href="/index.xml">RSS</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>Tags</h3>
        <div>
            
            <span>
                <a href="/tags/avaudioplayer/">AVAudioPlayer</a>
            </span>
            
            <span>
                <a href="/tags/avfoundation/">AVFoundation</a>
            </span>
            
            <span>
                <a href="/tags/avr/">AVR</a>
            </span>
            
            <span>
                <a href="/tags/c/">C</a>
            </span>
            
            <span>
                <a href="/tags/ctf/">CTF</a>
            </span>
            
            <span>
                <a href="/tags/hackthebox/">HackTheBox</a>
            </span>
            
            <span>
                <a href="/tags/ipod/">iPod</a>
            </span>
            
            <span>
                <a href="/tags/reverse-engineering/">Reverse Engineering</a>
            </span>
            
            <span>
                <a href="/tags/rockbox/">Rockbox</a>
            </span>
            
            <span>
                <a href="/tags/ssd/">SSD</a>
            </span>
            
            <span>
                <a href="/tags/swift/">Swift</a>
            </span>
            
            <span>
                <a href="/tags/uiprogressview/">UIProgressView</a>
            </span>
            
            <span>
                <a href="/tags/uislider/">UISlider</a>
            </span>
            
            <span>
                <a href="/tags/writeup/">Writeup</a>
            </span>
            
            <span>
                <a href="/tags/xbox/">Xbox</a>
            </span>
            
        </div>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="https://github.com/agarmash" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://www.linkedin.com/in/artem-garmash/" target="_blank"><span>LinkedIn</span></a>
            </li>
            
            <li>
                <a href="https://twitter.com/agarmash_" target="_blank"><span>Twitter</span></a>
            </li>
            
            <li>
                <a href="https://stackoverflow.com/users/7696358/artem-garmash" target="_blank"><span>Stack Overflow</span></a>
            </li>
            
            <li>
                <a href="https://www.strava.com/athletes/47538392" target="_blank"><span>Strava</span></a>
            </li>
            
            <li>
                <a href="https://www.last.fm/user/arch_saint" target="_blank"><span>Last.fm</span></a>
            </li>
            
        </ul>
    </div>
    
    
    
    
</aside>
        </div>
        <div class="btn">
    <div class="btn-toggle-mode">
        <i class="iconfont icon-contrast-sharp"></i>
    </div>
    <div class="btn-scroll-top">
        <i class="iconfont icon-chevron-up-circle-sharp"></i>
    </div>
</div>
    </main>

    <footer>
    <div class="container-lg clearfix">
        <div class="col-12 footer">
            <span>&copy; 2022 <a href="https://agarmash.com">Artem Garmash</a> |
                Powered by <a href="https://gohugo.io/"
                target="_blank">Hugo</a> & modified <a href="https://github.com/amzrk2/hugo-theme-fuji/"
                   target="_blank">Fuji-v2</a> </span>
        </div>
    </div>
</footer>
    
<script defer src="https://cdn.jsdelivr.net/combine/npm/medium-zoom@1.0.6,npm/lazysizes@5.2.2"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.21.0/components/prism-core.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.21.0/plugins/autoloader/prism-autoloader.min.js"></script>



<script defer src="/assets/js/fuji.min.js"></script>


</body>

</html>